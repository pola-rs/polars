[workspace]
resolver = "2"
members = [
  "crates/*",
  "polars-cli",
  "contribution/*",
  "examples/*",
]
default-members = [
  "crates/*",
  "polars-cli",
]
exclude = [
  "examples/datasets",
]

[workspace.package]
version = "0.31.1"
authors = ["Ritchie Vink <ritchie46@gmail.com>"]
edition = "2021"
homepage = "https://www.pola.rs/"
repository = "https://github.com/pola-rs/polars"
license = "MIT"

[workspace.dependencies]
ahash = "0.8"
bitflags = "1.3"
either = "1.8"
hashbrown = { version = "0.14.0", features = ["rayon", "ahash"] }
indexmap = { version = "2", features = ["std"] }
memchr = "2"
multiversion = "0.7"
num-traits = "0.2"
once_cell = "1"
rayon = "1.6"
smartstring = { version = "1" }
strum_macros = "0.25"
thiserror = "^1"
version_check = "0.9.4"
xxhash-rust = { version = "0.8.6", features = ["xxh3"] }

[workspace.dependencies.arrow]
package = "arrow2"
git = "https://github.com/jorgecarleitao/arrow2"
# git = "https://github.com/ritchie46/arrow2"
rev = "2ecd3e823f63884ca77b146a8cd8fcdea9f328fd"
# path = "../arrow2"
# branch = "duration_json"
version = "0.17.2"
default-features = false
features = [
  "compute_aggregate",
  "compute_arithmetics",
  "compute_boolean",
  "compute_boolean_kleene",
  "compute_cast",
  "compute_comparison",
  "compute_concatenate",
  "compute_filter",
  "compute_if_then_else",
]

[patch.crates-io]
# packed_simd_2 = { git = "https://github.com/rust-lang/packed_simd", rev = "e57c7ba11386147e6d2cbad7c88f376aab4bdc86" }
# simd-json = { git = "https://github.com/ritchie46/simd-json", branch = "alignment" }

[profile.release.package.polars-cli]
strip = true
# Below settings cannot be specified due to Cargo workspace restrictions, see: https://github.com/rust-lang/cargo/issues/9330
# lto = true
# panic = "abort"
